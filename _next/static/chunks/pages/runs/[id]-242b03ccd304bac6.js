(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[97],{6012:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/runs/[id]",function(){return r(5304)}])},5695:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var s=r(5893),a=r(7294),n=r(1163),l=r(837),c=r(641);function o(e){let{children:t}=e,{isAuthenticated:r,loading:o}=(0,l.a)(),i=(0,n.useRouter)();return((0,a.useEffect)(()=>{o||r||i.push("/login")},[r,o,i]),o)?(0,s.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(c.Z,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Loading..."})]})}):r?(0,s.jsx)(s.Fragment,{children:t}):null}},4109:function(e,t,r){"use strict";r.d(t,{C:function(){return c}});var s=r(5893);r(7294);var a=r(2003),n=r(4777);let l=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:t,variant:r,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)(l({variant:r}),t),...a})}},8778:function(e,t,r){"use strict";r.d(t,{z:function(){return i}});var s=r(5893),a=r(7294),n=r(8426),l=r(2003),c=r(4777);let o=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),i=a.forwardRef((e,t)=>{let{className:r,variant:a,size:l,asChild:i=!1,...d}=e,u=i?n.g7:"button";return(0,s.jsx)(u,{className:(0,c.cn)(o({variant:a,size:l,className:r})),ref:t,...d})});i.displayName="Button"},9346:function(e,t,r){"use strict";r.d(t,{Ol:function(){return c},Zb:function(){return l},aY:function(){return i},ll:function(){return o}});var s=r(5893),a=r(7294),n=r(4777);let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});l.displayName="Card";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});c.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});o.displayName="CardTitle",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})}).displayName="CardDescription";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})});i.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},2378:function(e,t,r){"use strict";r.d(t,{RM:function(){return o},SC:function(){return i},iA:function(){return l},pj:function(){return u},ss:function(){return d},xD:function(){return c}});var s=r(5893),a=r(7294),n=r(4777);let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",r),...a})})});l.displayName="Table";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",r),...a})});c.displayName="TableHeader";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",r),...a})});o.displayName="TableBody",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tfoot",{ref:t,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...a})}).displayName="TableFooter";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...a})});i.displayName="TableRow";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("th",{ref:t,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...a})});d.displayName="TableHead";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("td",{ref:t,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...a})});u.displayName="TableCell",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",r),...a})}).displayName="TableCaption"},2798:function(e,t,r){"use strict";r.d(t,{x:function(){return n}});var s=r(7066);class a{async login(e){return(await this.client.post("/auth/login",e)).data}async register(e){return(await this.client.post("/auth/register",e)).data}async getWorkflows(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=await this.client.get("/workflows",{params:{page:e,limit:t}});return{data:r.data.workflows,pagination:r.data.pagination}}async getWorkflow(e){return(await this.client.get("/workflows/".concat(e))).data.workflow}async createWorkflow(e){return(await this.client.post("/workflows",e)).data.workflow}async updateWorkflow(e,t){return(await this.client.put("/workflows/".concat(e),t)).data.workflow}async deleteWorkflow(e){await this.client.delete("/workflows/".concat(e))}async getRuns(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,s={page:t,limit:r};e&&(s.workflowId=e);let a=await this.client.get("/runs",{params:s});return{data:a.data.runs,pagination:a.data.pagination}}async getRun(e){return(await this.client.get("/runs/".concat(e))).data.run}async triggerRun(e,t){return(await this.client.post("/workflows/".concat(e,"/runs"),{input:t})).data.run}async cancelRun(e){await this.client.delete("/runs/".concat(e))}async getTasks(e){return(await this.client.get("/runs/".concat(e,"/tasks"))).data.tasks}async getTask(e){return(await this.client.get("/tasks/".concat(e))).data.task}async retryTask(e){return(await this.client.post("/tasks/".concat(e,"/retry"))).data.task}async getWorkflowMetrics(e){return(await this.client.get("/workflows/".concat(e,"/metrics"))).data}async getSystemMetrics(){return(await this.client.get("/metrics")).data}constructor(){this.client=s.Z.create({baseURL:"https://flowforge-backend-oqt7v11cz-beingmartinbmcs-projects.vercel.app/api",headers:{"Content-Type":"application/json"}}),this.client.interceptors.request.use(e=>{let t=localStorage.getItem("auth_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),this.client.interceptors.response.use(e=>e,e=>{var t;if((null===(t=e.response)||void 0===t?void 0:t.status)===401){localStorage.removeItem("auth_token");let e=window.location.pathname;e.includes("/login")||e.includes("/register")||(window.location.href="/login")}return Promise.reject(e)})}}let n=new a},4777:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var s=r(512),a=r(8388);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,s.W)(t))}},5304:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Y}});var s=r(5893),a=r(7294),n=r(1163),l=r(3114),c=r(9681),o=r(6851),i=r(4885),d=r(9819),u=r(866);r(3978);var x=r(493),m=r(9475),f=r(2217),h=r(39),g=r(3765),p=r(4976),b=r(2761),j=r(4101),N=r(163),w=r(2798),v=r(5695),y=r(8778),k=r(9346),R=r(4109),S=r(2270),T=r(4777);let C=S.fC,A=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(S.aV,{ref:t,className:(0,T.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...a})});A.displayName=S.aV.displayName;let I=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(S.xz,{ref:t,className:(0,T.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...a})});I.displayName=S.xz.displayName;let D=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(S.VY,{ref:t,className:(0,T.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...a})});D.displayName=S.VY.displayName;var E=r(2378),_=r(4715),Z=r(2373),F=r(9012),O=r(4489),L=r(4570),U=r(6501);let z={task:function(e){let{data:t}=e;return(0,s.jsxs)("div",{className:"px-4 py-3 shadow-lg rounded-lg border-2 ".concat((e=>{switch(e){case"SUCCESS":return"bg-green-500 border-green-600";case"FAILED":return"bg-red-500 border-red-600";case"RUNNING":return"bg-yellow-500 border-yellow-600 animate-pulse";case"PENDING":return"bg-gray-500 border-gray-600";default:return"bg-gray-400 border-gray-500"}})(t.status)," transition-all duration-300"),children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(e=>{switch(e){case"SUCCESS":return(0,s.jsx)(x.Z,{className:"h-4 w-4 text-white"});case"FAILED":return(0,s.jsx)(m.Z,{className:"h-4 w-4 text-white"});case"RUNNING":return(0,s.jsx)(f.Z,{className:"h-4 w-4 text-white animate-spin"});case"PENDING":return(0,s.jsx)(h.Z,{className:"h-4 w-4 text-white"});default:return(0,s.jsx)(g.Z,{className:"h-4 w-4 text-white"})}})(t.status)}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("div",{className:"text-sm font-semibold text-white truncate",children:t.label}),(0,s.jsxs)("div",{className:"text-xs text-white/80",children:[t.status,t.duration&&" • ".concat(t.duration,"ms")]})]})]}),t.error&&(0,s.jsx)("div",{className:"mt-2 text-xs text-white/90 bg-black/20 rounded p-2",children:t.error})]})}};function M(){var e;let t=(0,n.useRouter)(),{id:r}=t.query,[x,f]=(0,a.useState)(null),[h,g]=(0,a.useState)([]),[S,T,M]=(0,o.Rr)([]),[Y,P,G]=(0,o.ll)([]),[V,W]=(0,a.useState)(!0),[B,H]=(0,a.useState)([]),[q,X]=(0,a.useState)(null),[K,$]=(0,a.useState)(!1);(0,a.useEffect)(()=>(r&&(J(),et()),()=>er()),[r]);let J=async()=>{try{W(!0);let[e,t]=await Promise.all([w.x.getRun(r),w.x.getTasks(r)]);f(e),g(t);let s=t.map((e,t)=>({id:e.nodeId,type:"task",position:{x:t%3*200+100,y:150*Math.floor(t/3)+100},data:{label:e.nodeName||e.nodeId,status:e.status,taskId:e.id,duration:e.completedAt&&e.startedAt?new Date(e.completedAt).getTime()-new Date(e.startedAt).getTime():void 0,error:e.error}})),a=[];for(let e=0;e<t.length-1;e++)a.push({id:"e".concat(e),source:t[e].nodeId,target:t[e+1].nodeId,type:"smoothstep"});T(s),P(a),Q(t),ee(e,t)}catch(e){console.error("Failed to load run data:",e),U.Am.error("Failed to load run data")}finally{W(!1)}},Q=e=>{let t=[];e.forEach(e=>{t.push("[".concat(new Date(e.createdAt).toISOString(),"] INFO: Starting task ").concat(e.nodeName||e.nodeId)),e.startedAt&&t.push("[".concat(new Date(e.startedAt).toISOString(),"] INFO: Task ").concat(e.nodeName||e.nodeId," is running")),e.completedAt&&("SUCCESS"===e.status?t.push("[".concat(new Date(e.completedAt).toISOString(),"] SUCCESS: Task ").concat(e.nodeName||e.nodeId," completed successfully")):"FAILED"===e.status&&t.push("[".concat(new Date(e.completedAt).toISOString(),"] ERROR: Task ").concat(e.nodeName||e.nodeId," failed: ").concat(e.error)))}),H(t)},ee=(e,t)=>{let r=t.filter(e=>"SUCCESS"===e.status).length,s=t.filter(e=>"FAILED"===e.status).length,a=t.reduce((e,t)=>e+t.retryCount,0),n=e.completedAt?new Date(e.completedAt).getTime()-new Date(e.startedAt).getTime():Date.now()-new Date(e.startedAt).getTime();X({totalTasks:t.length,successfulTasks:r,failedTasks:s,totalRetries:a,executionTime:n,successRate:r/t.length*100})},et=()=>{$(!0);let e=setInterval(()=>{(null==x?void 0:x.status)==="RUNNING"&&J()},2e3);return()=>clearInterval(e)},er=()=>{$(!1)},es=async()=>{try{await w.x.cancelRun(r),U.Am.success("Run cancelled successfully"),J()}catch(e){console.error("Failed to cancel run:",e),U.Am.error("Failed to cancel run")}},ea=async()=>{if(null==x?void 0:x.workflowId)try{let e=await w.x.triggerRun(x.workflowId,x.input);U.Am.success("Run triggered successfully"),t.push("/runs/".concat(e.id))}catch(e){console.error("Failed to retry run:",e),U.Am.error("Failed to retry run")}},en=e=>{let t={SUCCESS:{color:"bg-green-500",text:"Success"},RUNNING:{color:"bg-yellow-500",text:"Running"},FAILED:{color:"bg-red-500",text:"Failed"},PENDING:{color:"bg-gray-500",text:"Pending"},CANCELED:{color:"bg-gray-400",text:"Canceled"}},r=t[e]||t.PENDING;return(0,s.jsx)(R.C,{className:"".concat(r.color," text-white"),children:r.text})};return V?(0,s.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(p.Z,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{children:"Loading run details..."})]})}):x?(0,s.jsxs)(v.Z,{children:[(0,s.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n  .react-flow__node {\n    background: var(--card);\n    border: 1px solid var(--border);\n    color: var(--foreground);\n  }\n  \n  .react-flow__controls {\n    background: var(--card) !important;\n    border: 1px solid var(--border) !important;\n  }\n  \n  .react-flow__controls button {\n    background: var(--card) !important;\n    border: 1px solid var(--border) !important;\n    color: var(--foreground) !important;\n  }\n  \n  .react-flow__controls button:hover {\n    background: var(--accent) !important;\n  }\n  \n  .react-flow__minimap {\n    background: var(--card) !important;\n    border: 1px solid var(--border) !important;\n  }\n  \n  .react-flow__background {\n    background: var(--background) !important;\n  }\n"}}),(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,s.jsx)("header",{className:"border-b border-border/40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,s.jsxs)("div",{className:"container flex h-16 items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)(y.z,{variant:"ghost",size:"sm",onClick:()=>t.push("/"),children:[(0,s.jsx)(b.Z,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Run Details"}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:[x.id," • ",null===(e=x.workflow)||void 0===e?void 0:e.name]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[en(x.status),"RUNNING"===x.status&&(0,s.jsxs)(y.z,{variant:"outline",onClick:es,children:[(0,s.jsx)(j.Z,{className:"mr-2 h-4 w-4"}),"Cancel"]}),(0,s.jsxs)(y.z,{onClick:ea,children:[(0,s.jsx)(N.Z,{className:"mr-2 h-4 w-4"}),"Retry"]})]})]})}),(0,s.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsxs)(k.Zb,{children:[(0,s.jsx)(k.Ol,{children:(0,s.jsx)(k.ll,{className:"text-sm font-medium",children:"Started At"})}),(0,s.jsx)(k.aY,{children:(0,s.jsx)("div",{className:"text-2xl font-bold",children:new Date(x.startedAt).toLocaleString()})})]}),(0,s.jsxs)(k.Zb,{children:[(0,s.jsx)(k.Ol,{children:(0,s.jsx)(k.ll,{className:"text-sm font-medium",children:"Duration"})}),(0,s.jsx)(k.aY,{children:(0,s.jsx)("div",{className:"text-2xl font-bold",children:((e,t)=>{if(!t)return"Running...";let r=Math.floor((new Date(t).getTime()-new Date(e).getTime())/1e3);return r<60?"".concat(r,"s"):"".concat(Math.floor(r/60),"m ").concat(r%60,"s")})(x.startedAt,x.completedAt)})})]}),(0,s.jsxs)(k.Zb,{children:[(0,s.jsx)(k.Ol,{children:(0,s.jsx)(k.ll,{className:"text-sm font-medium",children:"Tasks"})}),(0,s.jsxs)(k.aY,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:h.length}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:[h.filter(e=>"SUCCESS"===e.status).length," successful"]})]})]})]}),(0,s.jsxs)(k.Zb,{children:[(0,s.jsx)(k.Ol,{children:(0,s.jsx)(k.ll,{children:"Workflow Execution"})}),(0,s.jsx)(k.aY,{children:(0,s.jsx)("div",{className:"h-96 bg-card border rounded-md",children:(0,s.jsxs)(o.x$,{nodes:S,edges:Y,onNodesChange:M,onEdgesChange:G,nodeTypes:z,fitView:!0,attributionPosition:"bottom-left",className:"bg-card",style:{background:"var(--background)"},children:[(0,s.jsx)(i.Z,{className:"bg-card border border-border"}),(0,s.jsx)(d.A,{color:"var(--muted-foreground)",gap:20,size:1}),(0,s.jsx)(u.a,{className:"bg-card border border-border",style:{background:"var(--background)"}})]})})})]}),(0,s.jsxs)(C,{defaultValue:"logs",className:"space-y-4",children:[(0,s.jsxs)(A,{children:[(0,s.jsx)(I,{value:"logs",children:"Logs"}),(0,s.jsx)(I,{value:"tasks",children:"Tasks"}),(0,s.jsx)(I,{value:"metrics",children:"Metrics"})]}),(0,s.jsx)(D,{value:"logs",className:"space-y-4",children:(0,s.jsxs)(k.Zb,{children:[(0,s.jsx)(k.Ol,{children:(0,s.jsx)(k.ll,{children:"Execution Logs"})}),(0,s.jsx)(k.aY,{children:(0,s.jsx)("div",{className:"h-96 overflow-y-auto bg-muted p-4 rounded-md font-mono text-sm",children:(0,s.jsx)(l.M,{children:B.map((e,t)=>(0,s.jsx)(c.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"mb-1",children:e},t))})})})]})}),(0,s.jsx)(D,{value:"tasks",className:"space-y-4",children:(0,s.jsxs)(k.Zb,{children:[(0,s.jsx)(k.Ol,{children:(0,s.jsx)(k.ll,{children:"Task Details"})}),(0,s.jsx)(k.aY,{children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)(E.iA,{children:[(0,s.jsx)(E.xD,{children:(0,s.jsxs)(E.SC,{children:[(0,s.jsx)(E.ss,{className:"w-[200px]",children:"Task ID"}),(0,s.jsx)(E.ss,{className:"w-[150px]",children:"Node"}),(0,s.jsx)(E.ss,{className:"w-[100px]",children:"Status"}),(0,s.jsx)(E.ss,{className:"w-[100px]",children:"Attempts"}),(0,s.jsx)(E.ss,{className:"w-[120px]",children:"Duration"}),(0,s.jsx)(E.ss,{className:"w-[200px]",children:"Error"})]})}),(0,s.jsx)(E.RM,{children:h.map(e=>(0,s.jsxs)(E.SC,{children:[(0,s.jsx)(E.pj,{className:"font-mono text-sm",children:e.id}),(0,s.jsx)(E.pj,{children:e.nodeName||e.nodeId}),(0,s.jsx)(E.pj,{children:en(e.status)}),(0,s.jsx)(E.pj,{children:e.retryCount+1}),(0,s.jsx)(E.pj,{children:e.completedAt&&e.startedAt?"".concat(new Date(e.completedAt).getTime()-new Date(e.startedAt).getTime(),"ms"):"Running..."}),(0,s.jsx)(E.pj,{className:"max-w-xs truncate",children:e.error||"-"})]},e.id))})]})})})]})}),(0,s.jsx)(D,{value:"metrics",className:"space-y-4",children:q&&(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)(k.Zb,{children:[(0,s.jsx)(k.Ol,{children:(0,s.jsx)(k.ll,{children:"Task Success Rate"})}),(0,s.jsxs)(k.aY,{children:[(0,s.jsx)("div",{className:"h-64",children:(0,s.jsx)(_.h,{width:"100%",height:"100%",children:(0,s.jsxs)(Z.u,{children:[(0,s.jsx)(F.b,{data:[{name:"Success",value:q.successfulTasks,color:"#10b981"},{name:"Failed",value:q.failedTasks,color:"#ef4444"}],cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",children:[{name:"Success",value:q.successfulTasks,color:"#10b981"},{name:"Failed",value:q.failedTasks,color:"#ef4444"}].map((e,t)=>(0,s.jsx)(O.b,{fill:e.color},"cell-".concat(t)))}),(0,s.jsx)(L.u,{})]})})}),(0,s.jsxs)("div",{className:"text-center mt-4",children:[(0,s.jsxs)("div",{className:"text-2xl font-bold",children:[q.successRate.toFixed(1),"%"]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Success Rate"})]})]})]}),(0,s.jsxs)(k.Zb,{children:[(0,s.jsx)(k.Ol,{children:(0,s.jsx)(k.ll,{children:"Execution Metrics"})}),(0,s.jsx)(k.aY,{className:"space-y-4",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:q.totalTasks}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Tasks"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:q.totalRetries}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Retries"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"text-2xl font-bold",children:[Math.floor(q.executionTime/1e3),"s"]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Execution Time"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:q.totalTasks>0?(q.totalRetries/q.totalTasks).toFixed(1):0}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Avg Retries"})]})]})})]})]})})]})]})]})]}):(0,s.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(m.Z,{className:"h-8 w-8 mx-auto mb-4 text-red-500"}),(0,s.jsx)("p",{children:"Run not found"})]})})}function Y(){return(0,s.jsx)(o.tV,{children:(0,s.jsx)(M,{})})}}},function(e){e.O(0,[241,299,681,298,996,966,888,774,179],function(){return e(e.s=6012)}),_N_E=e.O()}]);